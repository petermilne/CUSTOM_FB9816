record (stringin, "${UUT}:${SITE}:MODEL") {
        field(DTYP, "stream")
        field(INP, "@fb3232.proto getModel ${SPORT}")
        field(PINI, "YES")
}

record (bo, "${UUT}:${SITE}:ENABLE") {
        field(DTYP, "stream")
        field(OUT, "@fb3232.proto setEnable ${SPORT}")
}

record (bo, "${UUT}:${SITE}:CLEAR") {
        field(DTYP, "stream")
        field(OUT, "@fb3232.proto clrSta ${SPORT}")
}

record (longin, "${UUT}:${SITE}:STATUS") {
	field(DTYP, "stream")
	field(SCAN, "1 second")
	field(INP,  "@fb3232.proto getSta ${SPORT}")
}



# mbbiDirect : easily done, but we'd need a FLNK to actual status bo values
# eg FLNK STATUS:OR,   INP STATUS:B.B0
#record (mbbiDirect, "${UUT}:${SITE}:STATUS:B") {
#	field(DTYP, "stream")
#	field(SCAN, "1 second")
#	field(INP,  "@fb3232.proto getSta ${SPORT}")
#        field(NOBT, "16")
#}


# CH1:MASTER : bo

record (bo, "${UUT}:${SITE}:CH01_MASTER") {
	field(DTYP, "Soft Channel")	
}

record(longout, "${UUT}:${SITE}:GAIN:01:raw") {
	field(FLNK, "${UUT}:${SITE}:GAIN:fan0108")	
}

record(longout, "${UUT}:${SITE}:OFFSET:01:raw") {
	field(FLNK, "${UUT}:${SITE}:OFFSET:fan0108")	
}

# gain_ch:
record(dfanout, "${UUT}:${SITE}:GAIN:fan0108") { 
	field(DOL, "${UUT}:${SITE}:GAIN:01")   
	field(OMSL, "closed_loop")
	field(SDIS, "${UUT}:${SITE}:CH01_MASTER")
	field(DISV, "0")
	field(FLNK, "${UUT}:${SITE}:GAIN:fan0916")
}

record(dfanout, "${UUT}:${SITE}:GAIN:fan0916") {
	field(DOL, "${UUT}:${SITE}:GAIN:01")   
	field(OMSL, "closed_loop")	
	field(SDIS, "${UUT}:${SITE}:CH01_MASTER")
	field(DISV, "0")
	field(FLNK, "${UUT}:${SITE}:GAIN:fan1724")
}
record(dfanout, "${UUT}:${SITE}:GAIN:fan1724") { 
	field(DOL, "${UUT}:${SITE}:GAIN:01")   
	field(OMSL, "closed_loop")
	field(SDIS, "${UUT}:${SITE}:CH01_MASTER")
	field(DISV, "0")
	field(FLNK, "${UUT}:${SITE}:GAIN:fan2532")
}

record(dfanout, "${UUT}:${SITE}:GAIN:fan2532") {
	field(DOL, "${UUT}:${SITE}:GAIN:01")   
	field(OMSL, "closed_loop")	
	field(SDIS, "${UUT}:${SITE}:CH01_MASTER")
	field(DISV, "0")	
}

record(dfanout, "${UUT}:${SITE}:OFFSET:fan0108") {
	field(DOL, "${UUT}:${SITE}:OFFSET:01")   
	field(OMSL, "closed_loop")	
	field(SDIS, "${UUT}:${SITE}:CH01_MASTER")
	field(DISV, "0")
	field(FLNK, "${UUT}:${SITE}:OFFSET:fan0916")	
}

record(dfanout, "${UUT}:${SITE}:OFFSET:fan0916") {
	field(DOL, "${UUT}:${SITE}:OFFSET:01")   
	field(OMSL, "closed_loop")	
	field(SDIS, "${UUT}:${SITE}:CH01_MASTER")
	field(DISV, "0")
	field(FLNK, "${UUT}:${SITE}:OFFSET:fan1724")
}

record(dfanout, "${UUT}:${SITE}:OFFSET:fan1724") {
	field(DOL, "${UUT}:${SITE}:OFFSET:01")   
	field(OMSL, "closed_loop")	
	field(SDIS, "${UUT}:${SITE}:CH01_MASTER")
	field(DISV, "0")
	field(FLNK, "${UUT}:${SITE}:OFFSET:fan2532")
}

record(dfanout, "${UUT}:${SITE}:OFFSET:fan2532") {
	field(DOL, "${UUT}:${SITE}:OFFSET:01")   
	field(OMSL, "closed_loop")	
	field(SDIS, "${UUT}:${SITE}:CH01_MASTER")
	field(DISV, "0")
}

# and add FAN, fan to script.

record(longout, "${UUT}:${SITE}:OFFSET:ZERO") {
	field(VAL, "0")
	field(PINI, "YES")
	field(OUT, "${UUT}:${SITE}:OFFSET:01")	
}

record(longout, "${UUT}:${SITE}:GAIN:ONE") {
	field(VAL, "1")
	field(PINI, "YES")
	field(OUT, "${UUT}:${SITE}:GAIN:01")	
}
